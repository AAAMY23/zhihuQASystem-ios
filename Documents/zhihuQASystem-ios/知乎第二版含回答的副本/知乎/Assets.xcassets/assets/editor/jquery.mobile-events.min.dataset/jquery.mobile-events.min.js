(function(N){function O(){var a=F();if(a!==x){x=a;J.trigger("orientationchange")}}function z(b,e,d,a){var c=d.type;d.type=e;N.event.dispatch.call(b,d,a);d.type=c}N.attrFn=N.attrFn||{};var A=navigator.userAgent.toLowerCase(),G=A.indexOf("chrome")>-1&&(A.indexOf("windows")>-1||A.indexOf("macintosh")>-1||A.indexOf("linux")>-1)&&A.indexOf("mobile")<0&&A.indexOf("nexus")<0,C={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:"ontouchstart" in document.documentElement&&!G,orientation_support:"orientation" in window&&"onorientationchange" in window,startevent:"ontouchstart" in document.documentElement&&!G?"touchstart":"mousedown",endevent:"ontouchstart" in document.documentElement&&!G?"touchend":"mouseup",moveevent:"ontouchstart" in document.documentElement&&!G?"touchmove":"mousemove",tapevent:"ontouchstart" in document.documentElement&&!G?"tap":"click",scrollevent:"ontouchstart" in document.documentElement&&!G?"touchmove":"scroll",hold_timer:null,tap_timer:null};N.isTouchCapable=function(){return C.touch_capable};N.getStartEvent=function(){return C.startevent};N.getEndEvent=function(){return C.endevent};N.getMoveEvent=function(){return C.moveevent};N.getTapEvent=function(){return C.tapevent};N.getScrollEvent=function(){return C.scrollevent};N.each(["tapstart","tapend","tap","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(a,b){N.fn[b]=function(c){return c?this.on(b,c):this.trigger(b)};N.attrFn[b]=true});N.event.special.tapstart={setup:function(){var a=this,b=N(a);b.on(C.startevent,function(f){b.data("callee",arguments.callee);if(f.which&&f.which!==1){return false}var c=f.originalEvent,d={position:{x:C.touch_capable?c.touches[0].screenX:f.screenX,y:C.touch_capable?c.touches[0].screenY:f.screenY},offset:{x:C.touch_capable?c.touches[0].pageX-c.touches[0].target.offsetLeft:f.offsetX,y:C.touch_capable?c.touches[0].pageY-c.touches[0].target.offsetTop:f.offsetY},time:(new Date).getTime(),target:f.target};z(a,"tapstart",f,d);return true})},remove:function(){N(this).off(C.startevent,N(this).data.callee)}};N.event.special.tapmove={setup:function(){var a=this,b=N(a);b.on(C.moveevent,function(f){b.data("callee",arguments.callee);var c=f.originalEvent,d={position:{x:C.touch_capable?c.touches[0].screenX:f.screenX,y:C.touch_capable?c.touches[0].screenY:f.screenY},offset:{x:C.touch_capable?c.touches[0].pageX-c.touches[0].target.offsetLeft:f.offsetX,y:C.touch_capable?c.touches[0].pageY-c.touches[0].target.offsetTop:f.offsetY},time:(new Date).getTime(),target:f.target};z(a,"tapmove",f,d);return true})},remove:function(){N(this).off(C.moveevent,N(this).data.callee)}};N.event.special.tapend={setup:function(){var a=this,b=N(a);b.on(C.endevent,function(f){b.data("callee",arguments.callee);var c=f.originalEvent;var d={position:{x:C.touch_capable?c.changedTouches[0].screenX:f.screenX,y:C.touch_capable?c.changedTouches[0].screenY:f.screenY},offset:{x:C.touch_capable?c.changedTouches[0].pageX-c.changedTouches[0].target.offsetLeft:f.offsetX,y:C.touch_capable?c.changedTouches[0].pageY-c.changedTouches[0].target.offsetTop:f.offsetY},time:(new Date).getTime(),target:f.target};z(a,"tapend",f,d);return true})},remove:function(){N(this).off(C.endevent,N(this).data.callee)}};N.event.special.taphold={setup:function(){var b=this,e=N(b),a,c,d={x:0,y:0};e.on(C.startevent,function(m){if(m.which&&m.which!==1){return false}else{e.data("tapheld",false);a=m.target;var i=m.originalEvent;var h=(new Date).getTime(),g={x:C.touch_capable?i.touches[0].screenX:m.screenX,y:C.touch_capable?i.touches[0].screenY:m.screenY},l={x:C.touch_capable?i.touches[0].pageX-i.touches[0].target.offsetLeft:m.offsetX,y:C.touch_capable?i.touches[0].pageY-i.touches[0].target.offsetTop:m.offsetY};d.x=m.originalEvent.targetTouches?m.originalEvent.targetTouches[0].pageX:m.pageX;d.y=m.originalEvent.targetTouches?m.originalEvent.targetTouches[0].pageY:m.pageY;C.hold_timer=window.setTimeout(function(){var f=m.originalEvent.targetTouches?m.originalEvent.targetTouches[0].pageX:m.pageX,t=m.originalEvent.targetTouches?m.originalEvent.targetTouches[0].pageY:m.pageY;if(m.target==a&&d.x==f&&d.y==t){e.data("tapheld",true);var o=(new Date).getTime(),r={x:C.touch_capable?i.touches[0].screenX:m.screenX,y:C.touch_capable?i.touches[0].screenY:m.screenY},s={x:C.touch_capable?i.touches[0].pageX-i.touches[0].target.offsetLeft:m.offsetX,y:C.touch_capable?i.touches[0].pageY-i.touches[0].target.offsetTop:m.offsetY};duration=o-h;var n={startTime:h,endTime:o,startPosition:g,startOffset:l,endPosition:r,endOffset:s,duration:duration,target:m.target};e.data("callee1",arguments.callee);z(b,"taphold",m,n)}},C.taphold_threshold);return true}}).on(C.endevent,function(){e.data("callee2",arguments.callee);e.data("tapheld",false);window.clearTimeout(C.hold_timer)})},remove:function(){N(this).off(C.startevent,N(this).data.callee1).off(C.endevent,N(this).data.callee2)}};N.event.special.doubletap={setup:function(){var c=this,f=N(c),b,d,e,a;f.on(C.startevent,function(g){if(g.which&&g.which!==1){return false}else{if(!f.data("lastTouch")){f.data("doubletapped",false);b=g.target;f.data("callee1",arguments.callee);a=g.originalEvent;e={position:{x:C.touch_capable?a.touches[0].screenX:g.screenX,y:C.touch_capable?a.touches[0].screenY:g.screenY},offset:{x:C.touch_capable?a.touches[0].pageX-a.touches[0].target.offsetLeft:g.offsetX,y:C.touch_capable?a.touches[0].pageY-a.touches[0].target.offsetTop:g.offsetY},time:(new Date).getTime(),target:g.target};return true}}}).on(C.endevent,function(n){var i=(new Date).getTime();var h=f.data("lastTouch")||i+1;var m=i-h;window.clearTimeout(d);f.data("callee2",arguments.callee);if(m<C.doubletap_int&&m>0&&n.target==b&&m>100){f.data("doubletapped",true);window.clearTimeout(C.tap_timer);var g={position:{x:C.touch_capable?n.originalEvent.changedTouches[0].screenX:n.screenX,y:C.touch_capable?n.originalEvent.changedTouches[0].screenY:n.screenY},offset:{x:C.touch_capable?n.originalEvent.changedTouches[0].pageX-n.originalEvent.changedTouches[0].target.offsetLeft:n.offsetX,y:C.touch_capable?n.originalEvent.changedTouches[0].pageY-n.originalEvent.changedTouches[0].target.offsetTop:n.offsetY},time:(new Date).getTime(),target:n.target};var o={firstTap:e,secondTap:g,interval:g.time-e.time};z(c,"doubletap",n,o)}else{f.data("lastTouch",i);d=window.setTimeout(function(l){window.clearTimeout(d)},C.doubletap_int,[n])}f.data("lastTouch",i)})},remove:function(){N(this).off(C.startevent,N(this).data.callee1).off(C.endevent,N(this).data.callee2)}};N.event.special.singletap={setup:function(){var b=this,e=N(b),a=null,c=null,d={x:0,y:0};e.on(C.startevent,function(f){if(f.which&&f.which!==1){return false}else{c=(new Date).getTime();a=f.target;e.data("callee1",arguments.callee);d.x=f.originalEvent.targetTouches?f.originalEvent.targetTouches[0].pageX:f.pageX;d.y=f.originalEvent.targetTouches?f.originalEvent.targetTouches[0].pageY:f.pageY;return true}}).on(C.endevent,function(f){e.data("callee2",arguments.callee);if(f.target==a){end_pos_x=f.originalEvent.changedTouches?f.originalEvent.changedTouches[0].pageX:f.pageX;end_pos_y=f.originalEvent.changedTouches?f.originalEvent.changedTouches[0].pageY:f.pageY;C.tap_timer=window.setTimeout(function(){if(!e.data("doubletapped")&&!e.data("tapheld")&&d.x==end_pos_x&&d.y==end_pos_y){var h=f.originalEvent;var g={position:{x:C.touch_capable?h.changedTouches[0].screenX:f.screenX,y:C.touch_capable?h.changedTouches[0].screenY:f.screenY},offset:{x:C.touch_capable?h.changedTouches[0].pageX-h.changedTouches[0].target.offsetLeft:f.offsetX,y:C.touch_capable?h.changedTouches[0].pageY-h.changedTouches[0].target.offsetTop:f.offsetY},time:(new Date).getTime(),target:f.target};if(g.time-c<C.taphold_threshold){z(b,"singletap",f,g)}}},C.doubletap_int)}})},remove:function(){N(this).off(C.startevent,N(this).data.callee1).off(C.endevent,N(this).data.callee2)}};N.event.special.tap={setup:function(){var c=this,f=N(c),b=false,d=null,e,a={x:0,y:0};f.on(C.startevent,function(g){f.data("callee1",arguments.callee);if(g.which&&g.which!==1){return false}else{b=true;a.x=g.originalEvent.targetTouches?g.originalEvent.targetTouches[0].pageX:g.pageX;a.y=g.originalEvent.targetTouches?g.originalEvent.targetTouches[0].pageY:g.pageY;e=(new Date).getTime();d=g.target;return true}}).on(C.endevent,function(m){f.data("callee2",arguments.callee);var h=m.originalEvent.targetTouches?m.originalEvent.changedTouches[0].pageX:m.pageX,i=m.originalEvent.targetTouches?m.originalEvent.changedTouches[0].pageY:m.pageY;diff_x=a.x-h,diff_y=a.y-i;if(d==m.target&&b&&(new Date).getTime()-e<C.taphold_threshold&&(a.x==h&&a.y==i||diff_x>=-C.tap_pixel_range&&diff_x<=C.tap_pixel_range&&diff_y>=-C.tap_pixel_range&&diff_y<=C.tap_pixel_range)){var g=m.originalEvent;var n={position:{x:C.touch_capable?g.changedTouches[0].screenX:m.screenX,y:C.touch_capable?g.changedTouches[0].screenY:m.screenY},offset:{x:C.touch_capable?g.changedTouches[0].pageX-g.changedTouches[0].target.offsetLeft:m.offsetX,y:C.touch_capable?g.changedTouches[0].pageY-g.changedTouches[0].target.offsetTop:m.offsetY},time:(new Date).getTime(),target:m.target};z(c,"tap",m,n)}})},remove:function(){N(this).off(C.startevent,N(this).data.callee1).off(C.endevent,N(this).data.callee2)}};N.event.special.swipe={setup:function(){function h(a){d=N(a.target);d.data("callee1",arguments.callee);b.x=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX;b.y=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY;r.x=b.x;r.y=b.y;g=true;var c=a.originalEvent;p={position:{x:C.touch_capable?c.touches[0].screenX:a.screenX,y:C.touch_capable?c.touches[0].screenY:a.screenY},offset:{x:C.touch_capable?c.touches[0].pageX-c.touches[0].target.offsetLeft:a.offsetX,y:C.touch_capable?c.touches[0].pageY-c.touches[0].target.offsetTop:a.offsetY},time:(new Date).getTime(),target:a.target};var i=new Date;while(new Date-i<100){}}function e(T){d=N(T.target);d.data("callee2",arguments.callee);r.x=T.originalEvent.targetTouches?T.originalEvent.targetTouches[0].pageX:T.pageX;r.y=T.originalEvent.targetTouches?T.originalEvent.targetTouches[0].pageY:T.pageY;window.clearTimeout(C.hold_timer);var u;var n=d.data("xthreshold"),E=d.data("ythreshold"),o=typeof n!=="undefined"&&n!==false&&parseInt(n)?parseInt(n):C.swipe_h_threshold,a=typeof E!=="undefined"&&E!==false&&parseInt(E)?parseInt(E):C.swipe_v_threshold;if(b.y>r.y&&b.y-r.y>a){u="swipeup"}if(b.x<r.x&&r.x-b.x>o){u="swiperight"}if(b.y<r.y&&r.y-b.y>a){u="swipedown"}if(b.x>r.x&&b.x-r.x>o){u="swipeleft"}if(u!=undefined&&g){b.x=0;b.y=0;r.x=0;r.y=0;g=false;var y=T.originalEvent;endEvnt={position:{x:C.touch_capable?y.touches[0].screenX:T.screenX,y:C.touch_capable?y.touches[0].screenY:T.screenY},offset:{x:C.touch_capable?y.touches[0].pageX-y.touches[0].target.offsetLeft:T.offsetX,y:C.touch_capable?y.touches[0].pageY-y.touches[0].target.offsetTop:T.offsetY},time:(new Date).getTime(),target:T.target};var S=Math.abs(p.position.x-endEvnt.position.x),i=Math.abs(p.position.y-endEvnt.position.y);var s={startEvnt:p,endEvnt:endEvnt,direction:u.replace("swipe",""),xAmount:S,yAmount:i,duration:endEvnt.time-p.time};w=true;d.trigger("swipe",s).trigger(u,s)}}function m(V){d=N(V.target);var i="";d.data("callee3",arguments.callee);if(w){var U=d.data("xthreshold"),y=d.data("ythreshold"),n=typeof U!=="undefined"&&U!==false&&parseInt(U)?parseInt(U):C.swipe_h_threshold,S=typeof y!=="undefined"&&y!==false&&parseInt(y)?parseInt(y):C.swipe_v_threshold;var s=V.originalEvent;endEvnt={position:{x:C.touch_capable?s.changedTouches[0].screenX:V.screenX,y:C.touch_capable?s.changedTouches[0].screenY:V.screenY},offset:{x:C.touch_capable?s.changedTouches[0].pageX-s.changedTouches[0].target.offsetLeft:V.offsetX,y:C.touch_capable?s.changedTouches[0].pageY-s.changedTouches[0].target.offsetTop:V.offsetY},time:(new Date).getTime(),target:V.target};if(p.position.y>endEvnt.position.y&&p.position.y-endEvnt.position.y>S){i="swipeup"}if(p.position.x<endEvnt.position.x&&endEvnt.position.x-p.position.x>n){i="swiperight"}if(p.position.y<endEvnt.position.y&&endEvnt.position.y-p.position.y>S){i="swipedown"}if(p.position.x>endEvnt.position.x&&p.position.x-endEvnt.position.x>n){i="swipeleft"}var a=Math.abs(p.position.x-endEvnt.position.x),E=Math.abs(p.position.y-endEvnt.position.y);var T={startEvnt:p,endEvnt:endEvnt,direction:i.replace("swipe",""),xAmount:a,yAmount:E,duration:endEvnt.time-p.time};d.trigger("swipeend",T)}g=false;w=false}var v=this,d=N(v),g=false,w=false,b={x:0,y:0},r={x:0,y:0},p;d.on(C.startevent,h);d.on(C.moveevent,e);d.on(C.endevent,m)},remove:function(){N(this).off(C.startevent,N(this).data.callee1).off(C.moveevent,N(this).data.callee2).off(C.endevent,N(this).data.callee3)}};N.event.special.scrollstart={setup:function(){function d(f,g){a=g;z(b,a?"scrollstart":"scrollend",f)}var b=this,e=N(b),a,c;e.on(C.scrollevent,function(f){e.data("callee",arguments.callee);if(!a){d(f,true)}clearTimeout(c);c=setTimeout(function(){d(f,false)},50)})},remove:function(){N(this).off(C.scrollevent,N(this).data.callee)}};var J=N(window),B,F,x,R,M,I={0:true,180:true};if(C.orientation_support){var P=window.innerWidth||N(window).width(),K=window.innerHeight||N(window).height(),D=50;R=P>K&&P-K>D;M=I[window.orientation];if(R&&M||!R&&!M){I={"-90":true,90:true}}}N.event.special.orientationchange=B={setup:function(){if(C.orientation_support){return false}x=F();J.on("throttledresize",O);return true},teardown:function(){if(C.orientation_support){return false}J.off("throttledresize",O);return true},add:function(b){var a=b.handler;b.handler=function(c){c.orientation=F();return a.apply(this,arguments)}}};N.event.special.orientationchange.orientation=F=function(){var b=true,a=document.documentElement;if(C.orientation_support){b=I[window.orientation]}else{b=a&&a.clientWidth/a.clientHeight<1.1}return b?"portrait":"landscape"};N.event.special.throttledresize={setup:function(){N(this).on("resize",H)},teardown:function(){N(this).off("resize",H)}};var q=250,H=function(){Q=(new Date).getTime();k=Q-L;if(k>=q){L=Q;N(this).trigger("throttledresize")}else{if(j){window.clearTimeout(j)}j=window.setTimeout(O,q-k)}},L=0,j,Q,k;N.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe"},function(a,c,b){N.event.special[a]={setup:function(){N(this).on(c,N.noop)}}})})(jQuery);